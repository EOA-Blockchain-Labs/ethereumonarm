#!/bin/sh
set -e

# postinst script for ethereumonarm-firewall
# Refresh UFW profiles without enabling or reloading a disabled firewall.

case "$1" in
  configure)
    echo ">>> Ethereum on ARM: updating UFW application profiles..."
    if command -v ufw >/dev/null 2>&1; then
      ufw app update > /dev/null 2>&1 || true
    else
      echo ">>> Warning: UFW is not installed. Skipping firewall profile refresh."
    fi
    ;;
  abort-upgrade|abort-remove|abort-deconfigure)
    ;;
  *)
    echo "postinst called with unknown argument '$1'" >&2
    exit 1
    ;;
esac

exit 0